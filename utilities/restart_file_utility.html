<HTML>
<HEAD>
<TITLE>program restart_file_utility</TITLE>
<link rel="stylesheet" type="text/css" href="../doc/html/doc.css"></link> 
</HEAD>
<BODY>
<!--
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!                                                                       !!
!!                   GNU General Public License                          !!
!!                                                                       !!
!! This file is part of the Data Assimilation Research Testbed (DART).   !!
!!                                                                       !!
!! DART is free software; you can redistribute it and/or modify          !!
!! it and are expected to follow the terms of the GNU General Public     !!
!! License as published by the Free Software Foundation.                 !!
!!                                                                       !!
!! DART is distributed in the hope that it will be useful,               !!
!! but WITHOUT ANY WARRANTY; without even the implied warranty of        !!
!! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         !!
!! GNU General Public License for more details.                          !!
!!                                                                       !!
!! You should have received a copy of the GNU General Public License     !!
!! along with DART; if not, write to:                                    !!
!!          Free Software Foundation, Inc.                               !!
!!          59 Temple Place, Suite 330                                   !!
!!          Boston, MA  02111-1307  USA                                  !!
!! or see:                                                               !!
!!          http://www.gnu.org/licenses/gpl.txt                          !!
!!                                                                       !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-->

<DIV ALIGN=CENTER>
<A HREF="#Interface">INTERFACE</A> / 
<A HREF="#PublicEntities">PUBLIC COMPONENTS</A> / 
<A HREF="#Namelist">NAMELIST</A> / 
<A HREF="#FilesUsed">FILES</A> /
<A HREF="#References">REFERENCES</A> /
<A HREF="#Errors">ERRORS</A> /
<A HREF="#KnownBugs">BUGS</A> /
<A HREF="#FuturePlans">PLANS</A> /
<A HREF="#PrivateComponents">PRIVATE COMPONENTS</A>
</DIV>

<!--==================================================================-->

<H1>PROGRAM restart_file_utility</H1>
<A NAME="HEADER"></A>
<TABLE summary="">
<TR><TD>Contact:       </TD><TD> Jeff Anderson     </TD></TR>
<TR><TD>Revision:      </TD><TD> $Revision: 2801 $ </TD></TR>
<TR><TD>Source:        </TD><TD> $URL: http://subversion.ucar.edu/DAReS/DART/trunk/utilities/restsart_file_utility.html $ </TD></TR>
<TR><TD>Change Date:   </TD><TD> $Date: 2007-04-04 22:11:48 -0600 (Wed, 04 Apr 2007) $ </TD></TR>
<TR><TD>Change history:</TD><TD> try "svn log" or "svn diff" </TD></TR>
</TABLE>

<!--==================================================================-->

<A NAME="OVERVIEW"></A>
<HR>
<H2>OVERVIEW</H2>

<P>
Utility program to alter the data timestamp in a DART restart file,
to add or remove a model-advance time, to convert from ascii to binary 
or back, and to either split or combine single ensemble restarts into 
one or multiple files.
</P>

<P>
Normal DART restart files contain only a single timestamp; the model
time at which the data was generated.  Each file can be ASCII or
binary format, and can contain the time and data for a single ensemble
member or repeated time/data blocks for all ensemble members.  
</P>

<P>
The files named <em class=code>temp_ic</em> or 
<em class=code>assim_model_state_ic00001</em> contain the same
contents as a normal restart file but also contain an additional
timestamp which indicates to the model advance code how far in time
the model needs to advance.  This program can add or remove these
timestamps, in addition to the normal data timestamps.
</P>

<P>
Note that the output from the model advance, <em class=code>temp_ud</em>
or <em class=code>assim_model_state_ud00001</em>, are normal restart
files without the extra timestamp.
</P>

<!--==================================================================-->

<A NAME="OTHER MODULES USED"></A>
<BR><HR><BR>
<H2>OTHER MODULES USED</H2>
<PRE>
types_mod
time_manager_mod
utilities_mod
assim_model_mod
obs_model_mod
ensemble_manager_mod
mpi_utilities_mod
</PRE>

<!--==================================================================-->
<!--Note to authors. The first row of the table is different.         -->

<A NAME="Interface"></A>
<BR><HR><BR>
<H2>PUBLIC INTERFACE</H2>

<H3 class=indent1>NOTES</H3>

<P>
</P>


<!--==================================================================-->

<!--==================================================================-->
<!-- Describe the Files Used by this module.                          -->
<!--==================================================================-->

<A NAME="FilesUsed"></A>
<BR><HR><BR>
<H2>FILES</H2>
<UL><LI>inputfile (filter_restart)
    <LI>restart_file_utility.nml 
    <LI>outputfile (filter_updated_restart)
</UL>

<!--==================================================================-->
<!-- Cite references, if need be.                                     -->
<!--==================================================================-->

<A NAME="References"></A>
<BR><HR><BR>
<H2>REFERENCES</H2>

<!--==================================================================-->
<!-- Describe all the error conditions and codes.                     -->
<!-- Putting a <BR> after the synopsis creates a nice effect.         -->
<!--==================================================================-->

<A NAME="Errors"></A>
<HR>
<H2>ERROR CODES and CONDITIONS</H2>
<div class="errors">
<TABLE border=1 cellspacing=1 cellpadding=10 width=100%>
<TR><TH>Routine</TH><TH>Message</TH><TH>Comment</TH></TR>

<TR><!-- routine --><TD VALIGN=top>restart_file_utility</TD>
    <!-- message --><TD VALIGN=top>Only use single process</TD>
    <!-- comment --><TD VALIGN=top>Only a single mpi process can be used 
                                   with this program</TD>
</TR>

<TR><!-- routine --><TD VALIGN=top>restart_file_utility</TD>
    <!-- message --><TD VALIGN=top>must specify data days and times</TD>
    <!-- comment --><TD VALIGN=top>If overwrite_data_time is true,
       the namelist must include the new day and time.</TD>
</TR>

<TR><!-- routine --><TD VALIGN=top>restart_file_utility</TD>
    <!-- message --><TD VALIGN=top>output_is_model_advance_file must 
                                   be true to set advance time</TD>
    <!-- comment --><TD VALIGN=top>If overwrite_advance_time is true,
              output_is_model_advance_file must also be true.</TD>
</TR>

<TR><!-- routine --><TD VALIGN=top>restart_file_utility</TD>
    <!-- message --><TD VALIGN=top>must specify advance days and times</TD>
    <!-- comment --><TD VALIGN=top>If overwrite_advance_time is true,
       the namelist must include the new day and time.</TD>
</TR>

<TR><!-- routine --><TD VALIGN=top>restart_file_utility</TD>
    <!-- message --><TD VALIGN=top>overwrite_advance_time must be true 
                                   if output file has advance time</TD>
    <!-- comment --><TD VALIGN=top>If the incoming file does not have
                 a model advance time, the output cannot have one unless
                 the user gives one in the namelist, and sets 
                 overwrite_advance_time to true.</TD>
</TR>

</TABLE>
</div>


<!--==================================================================-->
<!-- Describe the bugs.                                               -->
<!--==================================================================-->

<A NAME="KnownBugs"></A>
<BR><HR><BR>
<H2>KNOWN BUGS</H2>
<P>
</P>

<!--==================================================================-->
<!-- Descibe Future Plans.                                            -->
<!--==================================================================-->

<A NAME="FuturePlans"></A>
<BR><HR><BR>
<H2>FUTURE PLANS</H2>
<P>
</P>

<!--==================================================================-->
<!-- Have not fleshed out this part yet ... ha ha ha                  -->
<!--==================================================================-->

<A NAME="PrivateComponents"></A>
<BR><HR><BR>
<H2>PRIVATE COMPONENTS</H2>

<!-- <div class=routine> -->
<!-- <pre> -->
<!-- type location_type -->
<!--    private -->
<!--    real(r8) :: x -->
<!-- end type location_type</pre> -->
<!-- </div> -->

<H3 class=indent1>Discussion</H3>

<!--==================================================================-->

<HR>
</BODY>
</HTML>
