<!--

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!                                                                   !!
!!                   GNU General Public License                      !!
!!                                                                   !!
!! This file is part of the Flexible Modeling System (FMS).          !!
!!                                                                   !!
!! FMS is free software; you can redistribute it and/or modify       !!
!! it and are expected to follow the terms of the GNU General Public !!
!! License as published by the Free Software Foundation.             !!
!!                                                                   !!
!! FMS is distributed in the hope that it will be useful,            !!
!! but WITHOUT ANY WARRANTY; without even the implied warranty of    !!
!! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the     !!
!! GNU General Public License for more details.                      !!
!!                                                                   !!
!! You should have received a copy of the GNU General Public License !!
!! along with FMS; if not, write to:                                 !!
!!          Free Software Foundation, Inc.                           !!
!!          59 Temple Place, Suite 330                               !!
!!          Boston, MA  02111-1307  USA                              !!
!! or see:                                                           !!
!!          http://www.gnu.org/licenses/gpl.txt                      !!
!!                                                                   !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

-->
<!DOCTYPE html>
<html>
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Apple macOS version 5.6.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Module gaussian_topog_mod</title>
<link type="text/css" href=
"http://www.gfdl.noaa.gov/~fms/style/doc.css" rel="stylesheet">
<style type="text/css">
          .fixed {
            font-size:medium;
            font-family:monospace;
            border-style:none;
            border-width:0.1em;
            padding:0.1em;
            color:#663366;
          }
</style>
</head>
<body>
<a name="TOP" id="TOP"></a><font class="header" size="1"><a href=
"#PUBLIC%20INTERFACE">PUBLIC INTERFACE</a> ~ <a href=
"#PUBLIC%20DATA">PUBLIC DATA</a> ~ <a href=
"#PUBLIC%20ROUTINES">PUBLIC ROUTINES</a> ~ <a href=
"#NAMELIST">NAMELIST</a> ~ <a href=
"#DIAGNOSTIC%20FIELDS">DIAGNOSTIC FIELDS</a> ~ <a href=
"#ERROR%20MESSAGES">ERROR MESSAGES</a> ~ <a href=
"#REFERENCES">REFERENCES</a> ~ <a href="#NOTES">NOTES</a></font>
<hr>
<h1>module gaussian_topog_mod</h1>
<a name="OVERVIEW" id="OVERVIEW"></a>
<hr>
<h2>OVERVIEW</h2>
<!-- BEGIN OVERVIEW -->
<p class="text">Routines for creating Gaussian-shaped land surface
topography for latitude-longitude grids.</p>
<!-- END OVERVIEW -->
<a name="DESCRIPTION" id="DESCRIPTION"></a> 
<!-- BEGIN DESCRIPTION -->
<div>Interfaces generate simple Gaussian-shaped mountains from
parameters specified by either argument list or namelist input. The
mountain shapes are controlled by the height, half-width, and
ridge-width parameters.</div>
<br>
<!-- END DESCRIPTION -->
<a name="OTHER MODULES USED"></a>
<hr>
<h2>OTHER MODULES USED</h2>
<!-- BEGIN OTHER MODULES USED -->
<div>
<pre>      fms_mod<br>constants_mod</pre></div>
<!-- END OTHER MODULES USED -->
<!-- BEGIN PUBLIC INTERFACE -->
<a name="PUBLIC INTERFACE"></a>
<hr>
<h2>PUBLIC INTERFACE</h2>
<div>
<pre>
use gaussian_topog_mod [, only:  gaussian_topog_init,<br>                                 get_gaussian_topog ]</pre>
<dl>
<dt><a href="#gaussian_topog_init">gaussian_topog_init</a>:</dt>
<dd>Returns a surface height field that consists of the sum of one
or more Gaussian-shaped mountains.</dd>
<dt><a href="#get_gaussian_topog">get_gaussian_topog</a>:</dt>
<dd>Returns a simple surface height field that consists of a single
Gaussian-shaped mountain.</dd>
</dl>
</div>
<br>
<!-- END PUBLIC INTERFACE -->
<a name="PUBLIC DATA"></a>
<hr>
<h2>PUBLIC DATA</h2>
<!-- BEGIN PUBLIC DATA -->
<div>None.<br>
<br></div>
<!-- END PUBLIC DATA -->
<a name="PUBLIC ROUTINES"></a>
<hr>
<h2>PUBLIC ROUTINES</h2>
<!-- BEGIN PUBLIC ROUTINES -->
<ol type="a">
<li><a name="gaussian_topog_init" id="gaussian_topog_init"></a>
<h2>gaussian_topog_init</h2>
<pre>
&lt;B&gt;call <b>gaussian_topog_init</b> &lt;/B&gt; ( lon, lat, zsurf )</pre>
<dl>
<dt><b>DESCRIPTION</b></dt>
<dd>Returns a land surface topography that consists of a "set" of
simple Gaussian-shaped mountains. The height, position, width, and
elongation of the mountains can be controlled by variables in
namelist <a href="#NAMELIST">&amp;gaussian_topog_nml</a>.</dd>
<dd><br>
<br></dd>
<dt><b>INPUT</b></dt>
<dd>
<table border="0">
<tr>
<td valign="top" align="left"><tt>lon   </tt></td>
<td>The mean grid box longitude in radians.<br>
   <span class="type">[real,
dimension(:)]</span></td>
</tr>
<tr>
<td valign="top" align="left"><tt>lat   </tt></td>
<td>The mean grid box latitude in radians.<br>
   <span class="type">[real,
dimension(:)]</span></td>
</tr>
</table>
</dd>
<dd><br></dd>
<dt><b>OUTPUT</b></dt>
<dd>
<table border="0">
<tr>
<td valign="top" align="left"><tt>zsurf   </tt></td>
<td>The surface height (in meters). The size of this field must be
size(lon) by size(lat).<br>
   <span class="type">[real,
dimension(:,:)]</span></td>
</tr>
</table>
</dd>
<dd><br></dd>
</dl>
</li>
<li><a name="get_gaussian_topog" id="get_gaussian_topog"></a>
<h2>get_gaussian_topog</h2>
<pre>
zsurf = &lt;B&gt; <b>get_gaussian_topog</b> &lt;/B&gt; ( lon, lat, height [, olond, olatd, wlond, wlatd, rlond, rlatd ] )</pre>
<dl>
<dt><b>DESCRIPTION</b></dt>
<dd>Returns a single Gaussian-shaped mountain. The height,
position, width, and elongation of the mountain is controlled by
optional arguments.</dd>
<dd><br>
<br></dd>
<dt><b>INPUT</b></dt>
<dd>
<table border="0">
<tr>
<td valign="top" align="left"><tt>lon   </tt></td>
<td>The mean grid box longitude in radians.<br>
   <span class="type">[real,
dimension(:)]</span></td>
</tr>
<tr>
<td valign="top" align="left"><tt>lat   </tt></td>
<td>The mean grid box latitude in radians.<br>
   <span class="type">[real,
dimension(:)]</span></td>
</tr>
<tr>
<td valign="top" align="left">
<tt>height   </tt></td>
<td>Maximum surface height in meters.<br>
   <span class="type">[real,
dimension(scalar)]</span></td>
</tr>
<tr>
<td valign="top" align="left"><tt>olond,
olatd   </tt></td>
<td>Position/origin of mountain in degrees longitude and latitude.
This is the location of the maximum height.<br>
   <span class="type">[real,
dimension(scalar)]</span></td>
</tr>
<tr>
<td valign="top" align="left"><tt>wlond,
wlatd   </tt></td>
<td>Gaussian half-width of mountain in degrees longitude and
latitude.<br>
   <span class="type">[real,
dimension(scalar)]</span></td>
</tr>
<tr>
<td valign="top" align="left"><tt>rlond,
rlatd   </tt></td>
<td>Ridge half-width of mountain in degrees longitude and latitude.
This is the elongation of the maximum height.<br>
   <span class="type">[real,
dimension(scalar)]</span></td>
</tr>
</table>
</dd>
<dd><br></dd>
<dt><b>OUTPUT</b></dt>
<dd>
<table border="0">
<tr>
<td valign="top" align="left"><tt>zsurf   </tt></td>
<td>The surface height (in meters). The size of the returned field
is size(lon) by size(lat).<br>
   <span class="type">[real,
dimension(:,:)]</span></td>
</tr>
</table>
</dd>
<dd><br></dd>
<dt><b>NOTE</b></dt>
<dd>Mountains do not wrap around the poles.</dd>
<dd><br>
<br></dd>
</dl>
</li>
</ol>
<!-- END PUBLIC ROUTINES -->
<a name="NAMELIST" id="NAMELIST"></a> <!-- BEGIN NAMELIST -->
<hr>
<h2>NAMELIST</h2>
<div><b>&amp;gaussian_topog_nml</b><br>
<br>
<dl>
<dt><tt>height</tt></dt>
<dd>
<dl>
<dt>Height in meters of the Gaussian mountains.<br>
<span class="type">[real, dimension(mxmtns), units: meter, default:
0.]</span></dt>
</dl>
</dd>
<dt><tt>olon, olat</tt></dt>
<dd>
<dl>
<dt>The longitude and latitude of mountain origins (in
degrees).<br>
<span class="type">[real, dimension(mxmtns), units: degree,
default: 0.]</span></dt>
</dl>
</dd>
<dt><tt>wlon, wlat</tt></dt>
<dd>
<dl>
<dt>The longitude and latitude half-width of mountain tails (in
degrees).<br>
<span class="type">[real, dimension(mxmtns), units: degree,
default: 0.]</span></dt>
</dl>
</dd>
<dt><tt>rlon, rlat</tt></dt>
<dd>
<dl>
<dt>The longitude and latitude half-width of mountain ridges (in
degrees). For a "standard" Gaussian mountain set rlon=rlat=0.<br>
<span class="type">[real, dimension(mxmtns), units: degree,
default: 0.]</span></dt>
</dl>
</dd>
<dt><tt>NOTE</tt></dt>
<dd>
<dl>
<dt>The variables in this namelist are only used when routine
&lt;TT&gt;gaussian_topog_init&lt;/TT&gt; is called. The namelist
variables are dimensioned (by 10), so that multiple mountains can
be generated.<br>
<br>
Internal parameter mxmtns = 10. By default no mountains are
generated.<br>
<span class="type">[]</span></dt>
</dl>
</dd>
</dl>
</div>
<br>
<!-- END NAMELIST -->
<a name="DIAGNOSTIC FIELDS"></a> <!-- BEGIN DIAGNOSTIC FIELDS -->
<!-- END DIAGNOSTIC FIELDS --><a name="DATA SETS"></a> 
<!-- BEGIN DATA SETS -->
<hr>
<h2>DATA SETS</h2>
<div>None.<br>
<br></div>
<!-- END DATA SETS -->
<a name="ERROR MESSAGES"></a> <!-- BEGIN ERROR MESSAGES -->
<hr>
<h2>ERROR MESSAGES</h2>
<div>
<dl>
<dt><b>FATAL in get_gaussian_topog</b></dt>
<dd><span class="errmsg">shape(zsurf) is not equal to
(/size(lon),size(lat)/)</span></dd>
<dd>Check the input grid size and output field size. The input grid
is defined at the midpoint of grid boxes.</dd>
</dl>
<br></div>
<!-- END ERROR MESSAGES -->
<a name="REFERENCES" id="REFERENCES"></a>
<hr>
<h2>REFERENCES</h2>
<!-- BEGIN REFERENCES -->
<div>None.</div>
<br>
<!-- END REFERENCES -->
<a name="COMPILER SPECIFICS"></a>
<hr>
<h2>COMPILER SPECIFICS</h2>
<!-- BEGIN COMPILER SPECIFICS -->
<div>None.</div>
<br>
<!-- END COMPILER SPECIFICS -->
<a name="PRECOMPILER OPTIONS"></a>
<hr>
<h2>PRECOMPILER OPTIONS</h2>
<!-- BEGIN PRECOMPILER OPTIONS -->
<div>None.</div>
<br>
<!-- END PRECOMPILER OPTIONS -->
<a name="LOADER OPTIONS"></a>
<hr>
<h2>LOADER OPTIONS</h2>
<!-- BEGIN LOADER -->
<div>None.<br>
<br></div>
<!-- END LOADER OPTIONS -->
<a name="TEST PROGRAM"></a>
<hr>
<h2>TEST PROGRAM</h2>
<!-- BEGIN TEST PROGRAM -->
<div>None.<br></div>
<br>
<!-- END TEST PROGRAM -->
<a name="KNOWN BUGS"></a>
<hr>
<h2>KNOWN BUGS</h2>
<!-- BEGIN KNOWN BUGS -->
<div>None.</div>
<br>
<!-- END KNOWN BUGS -->
<a name="NOTES" id="NOTES"></a>
<hr>
<h2>NOTES</h2>
<!-- BEGIN NOTES -->
<div>NAMELIST FOR GENERATING GAUSSIAN MOUNTAINS<br>
<br>
* multiple mountains can be generated * the final mountains are the
sum of all<br>
<br>
height = height in meters olon, olat = longitude,latitude origin
(degrees) rlon, rlat = longitude,latitude half-width of ridge
(degrees) wlon, wlat = longitude,latitude half-width of tail
(degrees)<br>
<br>
Note: For the standard gaussian mountain set rlon = rlat = 0 .<br>
<br>
<pre>       height --&gt;   ___________________________
                   /                           \
                  /              |              \
    gaussian     /               |               \
      sides --&gt; /                |                \
               /               olon                \
         _____/                olat                 \______

              |    |             |
              |&lt;--&gt;|&lt;-----------&gt;|
              |wlon|    rlon     |
               wlat     rlat</pre>
See the <a href="topography.html#TEST%20PROGRAM">topography</a>
module documentation for a test program.</div>
<br>
<!-- END NOTES -->
<a name="FUTURE PLANS"></a>
<hr>
<h2>FUTURE PLANS</h2>
<!-- BEGIN FUTURE PLANS -->
<div>None.</div>
<br>
<!-- END FUTURE PLANS -->
<hr>
<div align="right"><a href="#TOP"><font size=
"-1">top</font></a></div>
</body>
</html>
