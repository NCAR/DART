<!--

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!                                                                   !!
!!                   GNU General Public License                      !!
!!                                                                   !!
!! This file is part of the Flexible Modeling System (FMS).          !!
!!                                                                   !!
!! FMS is free software; you can redistribute it and/or modify       !!
!! it and are expected to follow the terms of the GNU General Public !!
!! License as published by the Free Software Foundation.             !!
!!                                                                   !!
!! FMS is distributed in the hope that it will be useful,            !!
!! but WITHOUT ANY WARRANTY; without even the implied warranty of    !!
!! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the     !!
!! GNU General Public License for more details.                      !!
!!                                                                   !!
!! You should have received a copy of the GNU General Public License !!
!! along with FMS; if not, write to:                                 !!
!!          Free Software Foundation, Inc.                           !!
!!          59 Temple Place, Suite 330                               !!
!!          Boston, MA  02111-1307  USA                              !!
!! or see:                                                           !!
!!          http://www.gnu.org/licenses/gpl.txt                      !!
!!                                                                   !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

-->
<!DOCTYPE html>
<html>
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Apple macOS version 5.6.0">
<title>module bgrid_change_grid_mod</title>
</head>
<body bgcolor="#AABBCC" text="#332211">
<div align="center"><font size="-2"><a href="#INTERFACE">PUBLIC
INTERFACE</a> / <a href="#ROUTINES">ROUTINES</a> / <a href=
"#ERRORS">ERRORS</a> / <a href="#NOTES">NOTES</a></font><br>
<br></div>
<hr>
<h1>module bgrid_change_grid_mod</h1>
<!--------------------------------------------------------------------->
<a name="OVERVIEW" id="OVERVIEW">
<hr>
<h2>OVERVIEW</h2>
<!-- BEGIN OVERVIEW -->
<pre>

    Provides interfaces to interpolate between the B-grid mass and
    velocity grids.

</pre></a><!-- END OVERVIEW -->
<!--------------------------------------------------------------------->
 <a name="DESCRIPTION" id="DESCRIPTION"><!-- BEGIN DESCRIPTION -->
<pre>
    The interpolation to a grid box is performed using the (four) 
    grid boxes centered at it's corners.  The interfaces have been
    overloaded for area-weighted interpolation and simple
    equal-weighted (4-point) interpolation.

</pre></a><!-- END DESCRIPTION -->
<!--------------------------------------------------------------------->
 <a name="MODULES_USED" id="MODULES_USED">
<hr>
<h2>OTHER MODULES USED</h2>
<!-- BEGIN MODULES_USED -->
<pre>

    bgrid_horiz_mod

</pre></a><!-- END MODULES_USED -->
<!--------------------------------------------------------------------->
 <a name="INTERFACE" id="INTERFACE">
<hr>
<h2>PUBLIC INTERFACE</h2>
<!-- BEGIN INTERFACE -->
<pre>

   <b>use bgrid_change_grid_mod</b> [,only:  mass_to_vel, vel_to_mass ]

   <a href="#mass_to_vel">mass_to_vel</a>
        Interpolates one field from the mass grid to the velocity grid.

   <a href="#vel_to_mass">vel_to_mass</a>
        Interpolates the velocity components from the velocity grid to
        the mass grid.

</pre></a><!-- END INTERFACE -->
<!--------------------------------------------------------------------->
 <a name="ROUTINES" id="ROUTINES">
<hr>
<h2>PUBLIC ROUTINES</h2>
<!-- BEGIN ROUTINES -->
<pre>
<a name="mass_to_vel" id="mass_to_vel">

<b>call mass_to_vel</b> (Hgrid, fm, fv) OR <b>call mass_to_vel</b> (fm, fv) INPUT Hgrid horiz_grid_type (see horiz_grid_mod) When this variable is present, area weighted averaging is performed. When this variable is not present, simple four-point averaging is performed. fm 2-d or 3-d real array located at mass points OUTPUT fv 2-d or 3-d real array located at velocity points NOTES 1) No output value is calculated in the east-most and north-most rows. 2) If the Hgrid interface is used, then the horizontal dimensions of the input/output arrays must be consistent with the size of the local data domain. 3) The input and output arrays can be the same since a temporary array is used for the result. -------------------------------------------------------------------- </a><a name="vel_to_mass"
id="vel_to_mass">

<b>call vel_to_mass</b> (Hgrid, u, v, um, vm, mask) OR <b>call vel_to_mass</b> (u, v, um, vm, mask) INPUT Hgrid horiz_grid_type (see horiz_grid_mod) When this variable is present, area weighted averaging is performed. When this variable is not present, simple four-point averaging is performed. u, v 2-d or 3-d real arrays of velocity components array OUTPUT um, vm 2-d or 3-d real arrays averaged to mass points INPUT mask 2-d or 3-d topography mask array (real, 0. or 1.) located at velocity points for the eta/step-mountain coordinate NOTES 1) No output value is calculated in the west-most and south-most rows. 2) If the Hgrid interface is used, then the horizontal dimensions of the input/output arrays must be consistent with the size of the local data domain. 3) The input and output arrays can be the same since a temporary array is used for the result. </a></pre></a><!-- END ROUTINES -->
<!--------------------------------------------------------------------->
 <a name="ERRORS" id="ERRORS">
<hr>
<h2>ERROR MESSAGES</h2>
<!-- BEGIN ERRORS -->
<pre>

     None.

</pre></a><!-- END ERRORS -->
<!--------------------------------------------------------------------->
 <a name="BUGS" id="BUGS">
<hr>
<h2>KNOWN BUGS</h2>
<!-- BEGIN BUGS -->
<pre>

     None.

</pre></a><!-- END BUGS -->
<!--------------------------------------------------------------------->
 <a name="NOTES" id="NOTES">
<hr>
<h2>NOTES</h2>
<!-- BEGIN NOTES -->
<pre>

     The 2-d versions call the 3-d versions.

</pre></a><!-- END NOTES -->
<!--------------------------------------------------------------------->
 <a name="PLANS" id="PLANS">
<hr>
<h2>FUTURE PLANS</h2>
<!-- BEGIN PLANS -->
<pre>

     None.

</pre></a><!-- END PLANS -->
<!--------------------------------------------------------------------->
<hr>
</body>
</html>
