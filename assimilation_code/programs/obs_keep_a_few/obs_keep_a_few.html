<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Apple macOS version 5.6.0">
<title>program obs_keep_a_few</title>
<link rel="stylesheet" type="text/css" href=
"../../../docs/html/doc.css">
<link href="../../../docs/images/dart.ico" rel="shortcut icon">
</head>
<body>
<a name="TOP" id="TOP"></a>
<h1>program <em class="program">obs_keep_a_few</em></h1>
<table border="0" summary="" cellpadding="5">
<tr>
<td valign="middle"><img src="../../../docs/images/Dartboard7.png"
alt="DART project logo" height="70"></td>
<td>Jump to <a href="../../../docs/index.html">DART Documentation
Main Index</a></td>
</tr>
</table>
<a href="#Namelist">NAMELIST</a> / <a href="#FilesUsed">FILES</a> /
<a href="#References">REFERENCES</a> / <a href="#Errors">ERRORS</a>
/ <a href="#FuturePlans">PLANS</a> / <a href="#Legalese">TERMS OF
USE</a>
<h2>Overview</h2>
<p>This program creates an output observation sequence (obs_seq)
file that is shorter than the input obs_seq file. There are two
ways to restrict the number of observations copied to the output:
the total number of observations regardless of observation type, or
up to N observations of each type. Observations in an obs_seq file
are processed in time order so the observations with the earliest
timestamps will be copied.</p>
<p>Set either limit to -1 to disable it. If both the maximum count
per type and maximum total count are given the copying stops when
the first limit is reached.</p>
<p>If you want to subset an obs_seq file starting at a later time
see the <a href=
"../obs_sequence_tool/obs_sequence_tool.html">obs_sequence_tool</a>
for subsetting by time and then use this tool on the output. That
tool also allows you to subset by obs type, location, data value,
and a variety of other options.</p>
<p>The <em class="program">obs_keep_a_few</em> program only subsets
by numbers of observations. It is expected to be useful when
prototyping experiments so the run time is short, or for debugging
or testing. Setting a limit per type ensures you have up to N of
each type of observation present in the output file.</p>
<p>Identity observations are all considered to be the same identity
"observation type" by this tool.</p>
<!--==================================================================-->
<a name="OtherModulesUsed" id="OtherModulesUsed"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>OTHER MODULES USED</h2>
<pre>
types_mod
utilities_mod
location_mod
obs_def_mod
obs_kind_mod
time_manager_mod
obs_sequence_mod
</pre>
<!--==================================================================-->
<!--=================== DESCRIPTION OF A NAMELIST ====================-->
<!--==================================================================-->
<a name="Namelist" id="Namelist"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>NAMELIST</h2>
<p>This namelist is read from the file <em class=
"file">input.nml</em>. Namelists start with an ampersand '&amp;'
and terminate with a slash '/'. Character strings that contain a
'/' must be enclosed in quotes to prevent them from prematurely
terminating the namelist.</p>
<div class="namelist">
<pre>
&amp;obs_keep_a_few_nml
   filename_in        = ''
   filename_out       = '' 
   max_count_per_type = 10
   max_total_count    = -1
   print_only         = .false.
   calendar           = 'Gregorian'
   /
</pre></div>
<br>
<br>
<div>
<table border="0" cellpadding="10" width="100%" summary=
'namelist description'>
<thead align="left">
<tr>
<th>Item</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td>filename_in</td>
<td>character(len=256)</td>
<td>Name of the observation sequence file to read.</td>
</tr>
<tr>
<td>filename_out</td>
<td>character(len=256)</td>
<td>Name of the observation sequence file to create. An existing
file will be overwritten.</td>
</tr>
<tr>
<td>max_count_per_type</td>
<td>integer</td>
<td>The first N observations of each different type will be copied
to the output file. Observation sequence files are processed in
time order so these will be the ones with the earliest time stamps
relative to other observations of this same type. Set to -1 to
disable this limit.</td>
</tr>
<tr>
<td>max_total_count</td>
<td>integer</td>
<td>If greater than 0, sets the upper limit on the total number of
observations to be copied to the output file regardless of type.
The program quits when either this limit is reached or when there
are N of each different obs type in the output. Set to -1 to
disable.</td>
</tr>
<tr>
<td>print_only</td>
<td>logical</td>
<td>If true, does all the work and prints out what the output file
would have in it (timestamps and counts of each obs type) but
doesn't create the output file.</td>
</tr>
<tr>
<td>calendar</td>
<td>character(len=256)</td>
<td>Name of the DART calendar type to use. Generally 'Gregorian' or
'No calendar'. See the DART time manager for more options. Only
controls the formatting of how the times in the output summary
messages are displayed.</td>
</tr>
</tbody>
</table>
</div>
<br>
<br>
<!--==================================================================-->
<!-- Describe the Files Used by this module.                          -->
<!--==================================================================-->
 <a name="FilesUsed" id="FilesUsed"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>FILES</h2>
<ul>
<li>filename_in is read.</li>
<li>filename_out is written.</li>
</ul>
<!--==================================================================-->
<!-- Cite references, if need be.                                     -->
<!--==================================================================-->
<a name="References" id="References"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>REFERENCES</h2>
<ul>
<li>none</li>
</ul>
<!--==================================================================-->
<!-- Describe all the error conditions and codes.                     -->
<!--==================================================================-->
<a name="Errors" id="Errors"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>ERROR CODES and CONDITIONS</h2>
<div class="errors">
<table border="1" cellspacing="1" cellpadding="10" width="100%">
<tr>
<th>Routine</th>
<th>Message</th>
<th>Comment</th>
</tr>
<tr><!-- routine -->
<td valign="top"> </td>
<!-- message -->
<td valign="top">none</td>
<!-- comment -->
<td valign="top"> </td>
</tr>
</table>
</div>
<h2>KNOWN BUGS</h2>
<p>none</p>
<!--==================================================================-->
<!-- Describe Future Plans.                                           -->
<!--==================================================================-->
<a name="FuturePlans" id="FuturePlans"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>FUTURE PLANS</h2>
<p>none</p>
<!--==================================================================-->
<!-- Legalese & Metadata                                              -->
<!--==================================================================-->
<a name="Legalese" id="Legalese"></a>
<div class="top">[<a href="#">top</a>]</div>
<hr>
<h2>Terms of Use</h2>
<p>DART software - Copyright UCAR. This open source software is
provided by UCAR, "as is", without charge, subject to all terms of
use at <a href=
"http://www.image.ucar.edu/DAReS/DART/DART_download">http://www.image.ucar.edu/DAReS/DART/DART_download</a></p>
<!--==================================================================-->
</body>
</html>
